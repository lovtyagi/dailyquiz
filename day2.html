<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Quiz</title>

<style>
body {
    font-family: Arial;
    background: #FFF8E1;
    text-align: center;
}
.card {
    background: white;
    border-radius: 20px;
    padding: 20px;
    max-width: 420px;
    margin: auto;
}
button {
    width: 100%;
    padding: 14px;
    margin: 10px 0;
    font-size: 18px;
    border-radius: 15px;
    border: none;
    background: #4CAF50;
    color: white;
}
.progress {
    font-size: 16px;
    color: #FF9800;
}
</style>
</head>

<body>

<div class="card">
    <h2>ðŸ§  Daily Quiz</h2>
    <div class="progress" id="progress"></div>
    <p id="question"></p>
    <div id="options"></div>
    <div id="message" style="display:none;font-size:20px;margin:12px;font-weight:bold;"></div>
</div>

<script>
const DAY_NUMBER = {{DAY_NUMBER}};

const unlockedDay = parseInt(localStorage.getItem("unlockedDay") || "1");
if (DAY_NUMBER > unlockedDay) {
    window.location.href = "index.html";
}

const QUESTIONS = [{"question":"What color is grass?","options":["Yellow","Green","Blue"],"correctIndex":1},{"question":"5 - 2 = ?","options":["2","3","4"],"correctIndex":1},{"question":"Which animal says Moo?","options":["Dog","Cow","Cat"],"correctIndex":1},{"question":"How many days are in a week?","options":["5","7","10"],"correctIndex":1},{"question":"What color is the sky?","options":["Blue","Red","Green"],"correctIndex":0},{"question":"2 + 3 = ?","options":["4","5","6"],"correctIndex":1},{"question":"Which animal can fly?","options":["Bird","Dog","Cow"],"correctIndex":0},{"question":"What comes after 3?","options":["4","5","6"],"correctIndex":0},{"question":"Which animal can fly?","options":["Bird","Dog","Cow"],"correctIndex":0},{"question":"2 + 3 = ?","options":["4","5","6"],"correctIndex":1}];

let index = 0;
let score = 0;

function loadQuestion() {
    document.getElementById("progress").innerText =
        "Question " + (index + 1) + " of " + QUESTIONS.length;

    document.getElementById("question").innerText =
        QUESTIONS[index].question;

    const optionsDiv = document.getElementById("options");
    optionsDiv.innerHTML = "";

    QUESTIONS[index].options.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.innerText = opt;
        btn.onclick = () => answer(i === QUESTIONS[index].correctIndex);
        optionsDiv.appendChild(btn);
    });
}

function answer(isCorrect) {
     if (isCorrect) {
        score++;
        showMessage("ðŸŽ‰ Great job!", true);

        setTimeout(() => {
            index++;
            if (index < QUESTIONS.length) {
                loadQuestion();
            } else {
                Android.onQuizCompleted(score, QUESTIONS.length);
            }
        }, 800);
    } else {
        showMessage("ðŸ˜Š Oops! Try again", false);
    }
}


function showMessage(text, isCorrect) {
    const msg = document.getElementById("message");
    msg.innerText = text;
    msg.style.color = isCorrect ? "#4CAF50" : "#FF5722";
    msg.style.display = "block";

    setTimeout(() => msg.style.display = "none", 1200);
}

loadQuestion();
</script>

</body>
</html>
